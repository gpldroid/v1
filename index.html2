<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPTVGet Pro | Ø¹Ù…Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙ† Ù„Ù…Ø±Ø§Ù†ÙŠ</title>
    <!-- Meta Description -->
    <meta name="description" content="IPTVGet Pro - Ø£ÙˆÙ„ Ù…Ù†ØµØ© Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ù‚Ù†ÙˆØ§Øª IPTV Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ø¨Ø± Ø§Ù„Ù…ØªØµÙØ­. ØªØ¬Ø±Ø¨Ø© ÙˆØªØ´ØºÙŠÙ„ Ù‚Ù†ÙˆØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆÙ„ ÙˆØ§Ù„Ù„ØºØ§Øª Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ØªØ­Ù…ÙŠÙ„. Ø¨ÙˆØ§Ø³Ø·Ø© Ø¹Ù…Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙ† Ù„Ù…Ø±Ø§Ù†ÙŠ.">
    <!-- Keywords -->
    <meta name="keywords" content="IPTV, IPTV Ù…Ø¬Ø§Ù†ÙŠ, Ù‚Ù†ÙˆØ§Øª IPTV, IPTVGet Pro, IPTV Ø¹Ø±Ø¨ÙŠ, IPTV Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©, ØªØ´ØºÙŠÙ„ IPTV, IPTV Ù…Ø¨Ø§Ø´Ø±, IPTV Ø¹Ø¨Ø± Ø§Ù„Ù…ØªØµÙØ­, Ø¹Ù…Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙ† Ù„Ù…Ø±Ø§Ù†ÙŠ, Ù‚Ù†ÙˆØ§Øª Ù…Ø¨Ø§Ø´Ø±Ø©, m3u, Ù‚Ù†ÙˆØ§Øª IPTV Ù…Ø¬Ø§Ù†ÙŠØ©">
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "IPTVGet Pro",
  "description": "Ø£ÙˆÙ„ Ù…Ù†ØµØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ù‚Ù†ÙˆØ§Øª IPTV Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ù…Ø¬Ø§Ù†Ø§Ù‹ Ø¹Ø¨Ø± Ø§Ù„Ù…ØªØµÙØ­",
  "url": "https://gpldroid.github.io/v1/",
  "applicationCategory": "MultimediaApplication",
  "operatingSystem": "Any",
  "author": {
    "@type": "Person",
    "name": "Ø¹Ù…Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙ† Ù„Ù…Ø±Ø§Ù†ÙŠ"
  },
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "featureList": [
    "Ù…Ø¹Ø§ÙŠÙ†Ø© Ù‚Ù†ÙˆØ§Øª IPTV Ù…Ø¨Ø§Ø´Ø±Ø©",
    "ØªØµÙØ­ Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆÙ„",
    "ØªØµÙØ­ Ø­Ø³Ø¨ Ø§Ù„Ù„ØºØ§Øª",
    "ØªØ­Ù…ÙŠÙ„ Ù‚ÙˆØ§Ø¦Ù… M3U",
    "Ù…Ø´ØºÙ„ ÙÙŠØ¯ÙŠÙˆ Ù…ØªÙƒØ§Ù…Ù„"
  ]
}
</script>
    
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --bg: #0d1117; --surface: #161b22; --primary: #58a6ff; --text: #c9d1d9; --accent: #238636;
        }
        [data-theme="light"] {
            --bg: #ffffff; --surface: #f6f8fa; --primary: #0969da; --text: #24292f;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: var(--bg); color: var(--text); min-height: 100vh; display: flex; flex-direction: column; }

        /* Navigation */
        nav { background: var(--surface); padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.1); position: sticky; top: 0; z-index: 1000; }
        .logo { font-size: 1.8rem; font-weight: 900; color: var(--primary); text-decoration: none; }
        .nav-links { display: flex; gap: 15px; list-style: none; }
        .nav-links a { color: var(--text); text-decoration: none; font-weight: 600; cursor: pointer; }

        /* Main Tabs */
        .tabs { display: flex; justify-content: center; gap: 10px; padding: 20px; background: var(--surface); border-bottom: 2px solid var(--primary); }
        .tab { padding: 10px 25px; border-radius: 30px; border: 1px solid var(--primary); color: var(--primary); cursor: pointer; font-weight: bold; transition: 0.3s; }
        .tab.active { background: var(--primary); color: white; }

        /* Content Area */
        section { display: none; padding: 30px 5%; flex: 1; }
        section.active { display: block; }
        .search-area { max-width: 600px; margin: 0 auto 30px; position: relative; }
        .search-area input { width: 100%; padding: 15px 45px; border-radius: 12px; border: 1px solid var(--primary); background: var(--surface); color: var(--text); outline: none; }
        .search-area i { position: absolute; right: 15px; top: 18px; color: var(--primary); }

        /* Cards Grid */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        .card { background: var(--surface); padding: 25px; border-radius: 15px; text-align: center; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; }
        .card:hover { transform: translateY(-5px); border-color: var(--primary); }
        .card h3 { margin: 15px 0; font-size: 1.2rem; }
        .btn-group { display: flex; flex-direction: column; gap: 10px; }
        .btn { padding: 12px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 8px; text-decoration: none; }
        .btn-play { background: var(--primary); color: white; }
        .btn-down { background: var(--accent); color: white; }

        /* Advanced Modal Player */
        .modal { display: none; position: fixed; inset: 0; background: #000; z-index: 9999; flex-direction: column; }
        .modal-header { padding: 15px 25px; background: #111; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; }
        .modal-body { display: flex; flex: 1; overflow: hidden; }
        .video-side { flex: 3; background: #000; position: relative; display: flex; align-items: center; justify-content: center; }
        #video { width: 100%; height: 100%; }
        .list-side { flex: 1; background: #0a0a0a; overflow-y: auto; min-width: 350px; border-right: 1px solid #333; }
        .channel-item { padding: 15px 20px; border-bottom: 1px solid #1a1a1a; cursor: pointer; display: flex; align-items: center; justify-content: space-between; transition: 0.2s; }
        .channel-item:hover, .channel-item.active { background: #1c2128; color: var(--primary); }
        .channel-info { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; }
        .external-link { color: var(--text); font-size: 0.8rem; padding: 5px; border-radius: 4px; background: #333; }

        /* WhatsApp & Footer */
        .wa-float { position: fixed; bottom: 30px; left: 30px; background: #25d366; color: white; width: 65px; height: 65px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 35px; box-shadow: 0 5px 15px rgba(0,0,0,0.4); z-index: 5000; text-decoration: none; }
        footer { background: var(--surface); padding: 40px; text-align: center; border-top: 1px solid rgba(255,255,255,0.05); margin-top: auto; }
        .dev-credit { color: var(--primary); font-weight: 800; font-size: 1.2rem; margin-top: 10px; display: block; }

        @media (max-width: 1000px) { .modal-body { flex-direction: column; } .list-side { height: 45%; min-width: 100%; } }
    </style>
</head>
<body>

    <nav>
        <a class="logo" href="#">IPTVGET PRO</a>
        <ul class="nav-links">
            <li><a onclick="showPage('home')">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
            <li><a onclick="showPage('about')">Ù…Ù† Ù†Ø­Ù†</a></li>
            <li><a onclick="showPage('contact')">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
        </ul>
        <button class="tab" onclick="toggleTheme()" style="padding:5px 15px;">Ø§Ù„ÙˆØ¶Ø¹</button>
    </nav>

    <div class="tabs">
        <div class="tab active" onclick="switchData('countries', this)">ğŸŒ Ø§Ù„Ø¯ÙˆÙ„</div>
        <div class="tab" onclick="switchData('languages', this)">ğŸ—£ Ø§Ù„Ù„ØºØ§Øª</div>
    </div>

    <section id="home" class="active">
        <div class="search-area">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¯ÙˆÙ„Ø© Ø£Ùˆ Ù„ØºØ© Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©..." onkeyup="filterContent()">
        </div>
        <div class="grid" id="mainGrid"></div>
    </section>

    <section id="about" style="text-align:center;"><h2>Ø­ÙˆÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</h2><p>Ø£ÙˆÙ„ Ù…Ù†ØµØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ù‚Ù†ÙˆØ§Øª IPTV Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ù…Ø¬Ø§Ù†Ø§Ù‹.</p></section>
    <section id="contact" style="text-align:center;"><h2>ØªÙˆØ§ØµÙ„ Ù…Ø¨Ø§Ø´Ø±</h2><a href="https://wa.me/212600000000" class="btn btn-play" style="display:inline-flex; margin-top:20px;">ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ù…Ø·ÙˆØ±</a></section>

    <div id="playerModal" class="modal">
        <div class="modal-header">
            <h3 id="modalTitle">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©</h3>
            <div style="display:flex; gap:20px; align-items:center;">
                <button onclick="closePlayer()" style="background:none; border:none; color:white; font-size:2.5rem; cursor:pointer;">&times;</button>
            </div>
        </div>
        <div class="modal-body">
            <div class="video-side">
                <video id="video" controls crossorigin playsinline></video>
            </div>
            <div class="list-side" id="channelList">
                </div>
        </div>
    </div>

    <a href="https://wa.me/212600000000" class="wa-float" target="_blank"><i class="fab fa-whatsapp"></i></a>

    <footer>
        <p>Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù†Ø´Ø± &copy; 2026 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù€ IPTVGET</p>
        <span class="dev-credit">Ø¨ÙˆØ§Ø³Ø·Ø© Ø¹Ù…Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙ† Ù„Ù…Ø±Ø§Ù†ÙŠ</span>
    </footer>

    <script src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

    <script>
        let fullData = [];
        let currentMode = 'countries';
        let hls = null;
        let plyr = null;

        document.addEventListener('DOMContentLoaded', () => {
            plyr = new Plyr('#video', { controls: ['play-large', 'play', 'progress', 'current-time', 'mute', 'volume', 'captions', 'settings', 'pip', 'airplay', 'fullscreen'] });
            loadAPI('countries');
        });

        // 1. Fetch Lists
        async function loadAPI(type) {
            currentMode = type;
            const grid = document.getElementById('mainGrid');
            grid.innerHTML = '<p style="grid-column:1/-1; text-align:center;">Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©...</p>';
            
            try {
                const response = await fetch(`https://iptv-org.github.io/api/${type}.json`);
                fullData = await response.json();
                render(fullData);
            } catch (e) {
                grid.innerHTML = '<p style="grid-column:1/-1; text-align:center; color:red;">Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ.</p>';
            }
        }

        function render(data) {
            const grid = document.getElementById('mainGrid');
            grid.innerHTML = data.slice(0, 120).map(item => {
                const code = item.code || item.id;
                const m3u = `https://iptv-org.github.io/iptv/${currentMode}/${code.toLowerCase()}.m3u`;
                return `
                    <div class="card">
                        <div style="font-size: 3rem;">${currentMode === 'countries' ? getFlag(code) : 'ğŸ“º'}</div>
                        <h3>${item.name}</h3>
                        <div class="btn-group">
                            <button class="btn btn-play" onclick="openPreview('${m3u}', '${item.name}')">â–¶ ØªØ¬Ø±Ø¨Ø© ÙˆØªØ´ØºÙŠÙ„</button>
                            <button class="btn btn-down" onclick="downloadFile('${m3u}', '${item.name}')">ğŸ“¥ ØªØ­Ù…ÙŠÙ„ M3U</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // 2. The Core Fix: Reading M3U Content
        async function openPreview(url, name) {
            document.getElementById('playerModal').style.display = 'flex';
            document.getElementById('modalTitle').innerText = name;
            const listArea = document.getElementById('channelList');
            listArea.innerHTML = '<p style="padding:20px; color:#888;">Ø¬Ø§Ø±ÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù‚Ù†ÙˆØ§Øª (Ù‚Ø¯ ÙŠØ³ØªØºØ±Ù‚ Ù„Ø­Ø¸Ø§Øª)...</p>';

            // Use multiple proxies if one fails
            const proxies = [
                "https://api.allorigins.win/raw?url=",
                "https://corsproxy.io/?",
                "https://thingproxy.freeboard.io/fetch/"
            ];

            let text = "";
            let success = false;

            for (let proxy of proxies) {
                try {
                    const res = await fetch(proxy + encodeURIComponent(url));
                    if (res.ok) {
                        text = await res.text();
                        success = true;
                        break;
                    }
                } catch (e) { continue; }
            }

            if (!success) {
                listArea.innerHTML = '<div style="padding:20px; text-align:center;">' +
                    '<p style="color:red;">Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø§Ù„Ù…ØµØ¯Ø± ÙŠÙ…Ù†Ø¹ Ø§Ù„Ù…ØªØµÙØ­ Ù…Ù† Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ù†ÙˆØ§Øª.</p>' +
                    '<a href="'+url+'" class="btn btn-down" style="margin-top:10px;">Ø­Ù…Ù„ Ø§Ù„Ù…Ù„Ù ÙˆØ´ØºÙ„Ù‡ Ø®Ø§Ø±Ø¬ÙŠØ§Ù‹</a></div>';
                return;
            }

            const channels = parse(text);
            if (channels.length === 0) {
                listArea.innerHTML = '<p style="padding:20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚Ù†ÙˆØ§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹.</p>';
                return;
            }

            listArea.innerHTML = channels.map((ch, idx) => `
                <div class="channel-item" onclick="startStream('${ch.url}', this)">
                    <div class="channel-info">
                        <i class="fas fa-play-circle"></i>
                        <span>${ch.name}</span>
                    </div>
                    <a href="${ch.url}" target="_blank" class="external-link" title="ÙØªØ­ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø®Ø§Ø±Ø¬ÙŠ">
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>
            `).join('');

            // Play first channel automatically
            startStream(channels[0].url, listArea.firstChild);
        }

        function startStream(url, element) {
            const v = document.getElementById('video');
            document.querySelectorAll('.channel-item').forEach(i => i.classList.remove('active'));
            if(element) element.classList.add('active');

            if (Hls.isSupported()) {
                if(hls) hls.destroy();
                hls = new Hls({ xhrSetup: xhr => xhr.withCredentials = false });
                hls.loadSource(url);
                hls.attachMedia(v);
                hls.on(Hls.Events.MANIFEST_PARSED, () => v.play().catch(() => {}));
            } else if (v.canPlayType('application/vnd.apple.mpegurl')) {
                v.src = url;
                v.play();
            }
        }

        function parse(data) {
            const lines = data.split('\n');
            const result = [];
            for (let i = 0; i < lines.length; i++) {
                if (lines[i].includes('#EXTINF')) {
                    const name = lines[i].split(',')[1]?.trim() || "Ù‚Ù†Ø§Ø© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©";
                    const url = lines[i+1]?.trim();
                    if (url && url.startsWith('http')) result.push({ name, url });
                }
            }
            return result;
        }

        // Utils
        function downloadFile(url, name) {
            const link = document.createElement('a');
            link.href = url;
            link.download = `${name}.m3u`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function getFlag(code) {
            return code.toUpperCase().replace(/./g, char => String.fromCodePoint(char.charCodeAt(0) + 127397));
        }

        function switchData(type, el) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
            loadAPI(type);
        }

        function filterContent() {
            const val = document.getElementById('searchInput').value.toLowerCase();
            const filtered = fullData.filter(i => i.name.toLowerCase().includes(val));
            render(filtered);
        }

        function showPage(id) {
            document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function toggleTheme() {
            const b = document.body;
            b.setAttribute('data-theme', b.getAttribute('data-theme') === 'light' ? 'dark' : 'light');
        }

        function closePlayer() {
            document.getElementById('playerModal').style.display = 'none';
            if(hls) hls.destroy();
            document.getElementById('video').pause();
        }
    </script>
</body>
</html>
